@model BookCave.Models.ViewModels.AccountViewModel

@using Microsoft.AspNetCore.Identity
@using System.Security.Claims
@using BookCave.Models

@inject UserManager<ApplicationUser> UserManager

@{
    var user = await UserManager.GetUserAsync(User);
}

<!--Carousel Wrapper-->
<div id="carousel-example-1z" class="carousel slide carousel-fade animated fadeIn" data-ride="carousel">

    <!--Indicators-->
    <ol class="carousel-indicators">
        <li data-target="#carousel-example-1z" data-slide-to="0" class="active"></li>
        <li data-target="#carousel-example-1z" data-slide-to="1"></li>
    </ol>
    <!--/.Indicators-->

    <!--Slides-->
    <div class="carousel-inner" role="listbox">

        <!--First slide-->
        <div class="carousel-item active">
            <div class="view" style="background-image: url('http://www.katlatrack.is/wp-content/uploads/2016/12/CAV_9200.jpg'); background-repeat: no-repeat; background-size: cover;">

                <!-- Mask & flexbox options-->
                <div class="mask rgba-black-light d-flex justify-content-center align-items-center">

                    <!-- Content -->
                    <div class="text-center white-text mx-5 wow fadeIn">
                        <h1 class="mb-4">
                            <strong>Welcome to the BookCave</strong>
                        </h1>

                        <p>
                            <strong>Probably the best book store online!</strong>
                        </p>

                        <p class="mb-4 d-none d-md-block">
                            <strong>We hope you enjoy your stay in our cave.</strong>
                        </p>

                    </div>
                    <!-- Content -->

                </div>
                <!-- Mask & flexbox options-->

            </div>
        </div>
        <!--/First slide-->

        <!--Second slide-->
        <div class="carousel-item">
            <div class="view" style="background-image: url('https://cdn.aarp.net/content/dam/aarp/money/budgeting_savings/2016/04/1140-yeager-sell-your-used-books.imgcache.rev6feda141288df73e8fd100822bb375ea.web.652.375.jpg'); background-repeat: no-repeat; background-size: cover;">

                <!-- Mask & flexbox options-->
                <div class="mask rgba-black-light d-flex justify-content-center align-items-center front-page-carousel">

                    <!-- Content -->
                    <div class="text-center white-text mx-5 wow fadeIn">
                        <h1 class="mb-4">
                            <a asp-controller="Book" asp-action="Top10"><strong>Top 10 Books!</strong></a>
                        </h1>

                        <p>
                            <a asp-controller="Book" asp-action="Top10"><strong>Basted on ratings from users</strong></a>
                        </p>

                        <p class="mb-4 d-none d-md-block">
                            <a asp-controller="Book" asp-action="Top10" class="btn btn-light-blue">Go to Top 10</a>
                        </p>

                    </div>
                    <!-- Content -->

                </div>
                <!-- Mask & flexbox options-->

            </div>
        </div>
        <!--/Second slide-->

    </div>
    <!--/.Slides-->

    <!--Controls-->
    <a class="carousel-control-prev" href="#carousel-example-1z" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
    <a class="carousel-control-next" href="#carousel-example-1z" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    <!--/.Controls-->
</div>
<!--/.Carousel Wrapper-->

<!--Main layout-->
<main class="pt-0">
    <div class="container">

        <div class="row mt-5 wow fadeIn">
            <!-- Card -->
            <div class="col align-items-stretch d-flex">
                <div class="card align-items-stretch d-flex">

                    <!-- Card image -->
                    <a asp-controller="Search" asp-action="Results"><img width="100rem" height="160rem" class="card-img-top" src="https://cdn-images-1.medium.com/max/1024/1*YLlZ96J3p8GFkIh1USVMzg.jpeg" alt="Card image cap"></a>

                    <!-- Card content -->
                    <div class="card-body text-center">

                        <!-- Title -->
                        <h4 class="card-title"><a>View all books</a></h4>
                        <!-- Text -->
                        <p class="card-text">Don't know where to begin? See our complete library collection!</p>
                        <!-- Button -->
                        <div class="row justify-content-center">
                            <a asp-controller="Search" asp-action="Results" class="btn btn-primary">View all books</a>
                        </div>

                    </div>

                </div>
                <!-- Card -->
            </div>

            <div class="col align-items-stretch d-flex">
                <!-- Card 2 -->
                <div class="card align-items-stretch d-flex">

                    <!-- Card image -->
                    <a asp-controller="Search" asp-action="Index"><img width="100rem" height="160rem" class="card-img-top" src="https://www.usedbookbusiness.com/wp-content/uploads/2012/03/Book-finder.jpg" alt="Card image cap"></a>

                    <!-- Card content -->
                    <div class="card-body text-center">

                        <!-- Title -->
                        <h4 class="card-title"><a>Search Books</a></h4>
                        <!-- Text -->
                        <p class="card-text">What are you looking for? Try searching our cave of books!</p>
                        <!-- Button -->
                        <div class="row justify-content-center">
                            <a asp-controller="Search" asp-action="Index" class="btn btn-primary">Search!</a>
                        </div>

                    </div>

                </div>
            </div>
            <!-- Card 2 -->

            @{ if (User.Identity.IsAuthenticated) {
                <div class="col align-items-stretch d-flex">
                    <!-- Card 3 -->
                    <div class="card align-items-stretch d-flex">
                        <!-- Card image -->
                        <a asp-controller="User" asp-action="AccountInformation"></a><img width="100rem" height="160rem" class="card-img-top" src="data:image/jpg;base64, @Convert.ToBase64String(@Model.Image)" alt="Card image cap">

                        <!-- Card content -->
                        <div class="card-body text-center">
                            <!-- Title -->
                            <h4 class="card-title"><a>@user.FirstName @user.LastName</a></h4>
                            <!-- Text -->
                            <p class="card-text">Welcome!</p>
                            <!-- button &apos; -->
                            <div class="row justify-content-center">
                                <a asp-controller="User" asp-action="AccountInformation" class="button btn btn-primary">Go to your account</a>
                            </div>

                        </div>
                    </div>
                </div>

            } else {

                <div class="col align-items-stretch d-flex">
                <!-- Card 2 -->
                    <div class="card align-items-stretch d-flex">

                        <!-- Card image -->
                        <a asp-controller="User" asp-action="Login"></a><img width="100rem" height="160rem" class="card-img-top" src="~/images/default_pic.jpg" alt="Card image cap">

                        <!-- Card content -->
                        <div class="card-body text-center">

                            <!-- Title -->
                            <h4 class="card-title"><a>User Profile</a></h4>
                            <!-- Text -->
                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card&apos;s content.</p>
                            <!-- Button -->
                            <div class="row justify-content-center">
                                <a asp-controller="User" asp-action="Login" class="btn btn-primary">Sign In</a>
                                <a asp-controller="User" asp-action="SignUp" class="btn btn-primary">Sign Up</a>
                            </div>

                        </div>

                    </div>
                </div>
            } }

        </div>
    </div>
</main>
<!--Main layout-->